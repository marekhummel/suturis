io:
  inputs:
    - type: FileReader
      path: ./data/examples/files/2022-05-28/bow_0120220528105828_compressed.mp4 # different fps dont matter, extra frames will be skipped
      speed_up: 2
      single_frame: True
    - type: FileReader
      path: ./data/examples/files/2022-05-28/stern_0120220528110011_compressed.mp4
      skip: 282
      speed_up: 2
      single_frame: True
  outputs:
    - type: ScreenOutput
      title: Stitched
      # window_size: [1280, 720]
    # - type: FileWriter
    #   dimensions: [1280, 720]
    #   source: OUTPUT
    #   filename: "{date}_stitching_bowstern.mp4"
stitching:
  preprocessing:
    # - type: DebugColoring
    #   needed_for_computation: False
  homography:
    type: FileLoadHandler
    path: ./data/examples/files/homography_bowstern.npz
  # homography:
  #   type: OptimizedSiftHandler
  #   caching_enabled: False
  #   save_to_file: False
  #   sift_features: 10000
  #   min_matches: 0
  #   relevant_areas_one:
  #     # - [[771, 208], [1280, 460]]
  #   relevant_areas_two:
  #     # - [[446, 208], [1174, 438]]
  masking:
    type: NaiveFading
    caching_enabled: False
    save_to_file: False
  # masking:
  #   type: StraightSeam
  #   caching_enabled: True
  #   save_to_file: False
  #   invert: True
  #   index: 1079 # 458
  #   vertical: True
  # postprocessing:
  #   - type: Cropper
  #     caching_enabled: True
  #     threshold: 0.02
misc:
  automatic_restart: False
  enable_debug_outputs: True
  enable_debug_keyinputs: True
logging:
  version: 1
  formatters:
    precise:
      format: "%(asctime)s.%(msecs)03d: %(levelname)s@%(module)s:%(lineno)d(%(funcName)s) - %(message)s."
      datefmt: "%Y-%m-%d %H:%M:%S"
    brief:
      format: "%(asctime)s.%(msecs)03d: %(levelname)s - %(message)s."
      datefmt: "%H:%M:%S"
  handlers:
    console:
      class: logging.StreamHandler
      level: INFO
      formatter: brief
      stream: ext://sys.stdout
    file:
      class: logging.handlers.TimedRotatingFileHandler
      level: DEBUG
      formatter: precise
      filename: log/suturis.log
      encoding: utf-8
      when: MIDNIGHT
      backupCount: 14
  root:
    level: DEBUG
    handlers: [console, file]
